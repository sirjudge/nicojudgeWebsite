# Development Dockerfile with hot reload support
FROM rust:1.81

# Install necessary tools
RUN apt-get update && apt-get install -y \
    pkg-config \
    libssl-dev \
    sqlite3 \
    libsqlite3-dev \
    && rm -rf /var/lib/apt/lists/*

# Install Dioxus CLI
RUN cargo install dioxus-cli --version 0.6.3 --locked

# Add wasm32 target for web builds
RUN rustup target add wasm32-unknown-unknown

# Set working directory
WORKDIR /app

# Expose port 8080
EXPOSE 8080

# Run in development mode with hot reload
CMD ["dx", "serve", "--platform", "web", "--hot-reload"] 